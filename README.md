# BTC-to-UAH
Даний сервіс з АРІ дозволяє виконувати наступні дії:
- дізнатись поточний курс біткоїну (BTC) у гривні (UAH);
- підписати емейл на отримання інформації по зміні курсу;
- надіслати запит, який відправить всім підписаним користувачам актуальний курс. 

Головна сторінка сервісу реалізується на основі коду із файлу index.php. Відкриваючи цю головну сторінку, користувач побачить чотири можливих посилання на вибір. Перше посилання отримало назву "Головна", натискаючи на яке користувач відкриє цю ж сторінку. Інші три передбачені посилання містять в собі більш обширний функціонал:
а) "Дізнатись поточний курс"
Натиснувши на посилання буде відправлено GET-запит, який має повернути поточні курси валют у форматі json. Використовуваний в даному проекті third-party сервіс, а саме http://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5, не надає прямого курсу біткоїна до гривні, проте використовується можливість отримання курсу біткоїна до долара та долара до гривні, а вже потім бажаний результат отримується звичайним множенням. Код функції для виконання основних дій наведено у файлі functions.php, а сама функція отримала назву get_rate().
б) "Додати нового підписника"
При переході на посилання з такою назвою відправляється POST-запит, але лише після заповнення текстового поля та натискання на кнопку "Додати!". Далі, із масиву $_POST отримується переданий e-mail та першочергово перевіряється наявність підписника із такою поштовою адресою. Якщо такого підписника немає, то виведеться повідомлення про успішне додавання, в противному випадку - повідомлення із текстом про наявність такої поштової адреси у файлі. Наявність поштової адреси у файлі перевіряється із використанням функції is_in_file(), а саме додавання до файлу - функції add_subscriber().
в) "Розіслати e-mail всім підписникам"
Код, який виконується у файлі sendEmails.php аналізує всі записи у subscribers.txt та з використанням стандартної функції mail() в циклі послідовно надсилає електронні листи. У разі успішного виконання, на екрані з'явиться відповідний текст.
